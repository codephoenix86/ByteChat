<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>tesing chat</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/socket.io-client@4.8.1/dist/socket.io.min.js"></script>
  </head>
  <body>
    <h1>Join Chat</h1>
    <input type="text" id="userInput" placeholder="Type your user id" />
    <button id="joinBtn">Join</button>

    <script>
      const chatId = '68e51f2a2de1882a6779fb8d'

      const token = ''
      document.getElementById('joinBtn').addEventListener('click', async () => {
        const userId = document.getElementById('userInput').value
        const socket = io('http://localhost:3000', { auth: { userId } })
        socket.on('user:online', data => {
          console.log('user is online:', data)
        })
        socket.on('user:offline', data => {
          console.log('user is offline', data)
        })
      })
    </script>
  </body>
</html>
